# 静态压力累积

气流流经封闭机体时，可能导致驾驶舱/机身内的静态压力发生变化。根据机身孔洞/泄漏位置的不同，可能会产生负压或正压（类似于机翼的效果）。  

压力变化会影响气压计测量，导致高度估计不准确。这可能表现为机体在停止移动时出现下降（在[高度](../flight_modes_mc/altitude.md)、[位置](../flight_modes_mc/position.md)或[任务](../flight_modes_mc/mission.md)模式下，当机体停止移动时静态压力下降，传感器报告更高高度，机体通过下降进行补偿）。该问题在多旋翼上尤为明显，因为固定翼飞行器通常具有更稳定的空速（而空速变化才更明显）。  

一种解决方案是使用泡沫填充通气孔以尽可能减少压力累积，然后尝试动态校准以消除剩余影响。  

:::tip  
在"修复"该问题之前，应先检查Z轴设定值是否跟踪估计高度（以验证是否存在控制器问题）。  
:::  

::: info  
虽然可以将气压计从高度估计中移除（即仅使用GPS高度），但不建议这么做。GPS在许多环境中精度不足，尤其在城市环境中存在建筑物信号反射时。  
:::  

## 气流分析  

可以通过钻孔或用泡沫填充孔洞来修改机身。  

分析这些改动影响的方法之一是将无人机安装在汽车上，驶过相对平坦的路面（使机身暴露在气流/风中）。通过地面站可观察运动引起的静态压力变化对测量高度的影响（以道路作为"地面真实值"）。  

此方法允许快速迭代而无需耗尽电池：修改无人机→行驶/查看→重复！  

:::tip  
在尝试下文的软件校准前，应确保最大水平速度时气压计高度下降小于2米。  
:::  

## 动态校准  

硬件修改完成后，可使用[EKF2_PCOEF_*](../advanced_config/parameter_reference.md#EKF2_PCOEF_XN)参数根据相对空速调整预期的气压计变化。更多信息请参见[使用PX4导航滤波器(EKF2) > 静态压力位置误差修正](../advanced_config/tuning_the_ecl_ekf.md#correction-for-static-pressure-position-error)。  

::: info  
该方法在静态压力误差与速度之间呈线性关系时效果良好。如果机体具有更复杂的气动模型，效果会减弱。  
:::